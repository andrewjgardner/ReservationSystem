@using System.Security.Policy
@model ReservationSystem.Areas.Admin.Models.Sitting.Details

@{
	ViewData["Title"] = @Model.Title;
}

<div class="container text-center">
	<h1 class="display-4 text-primary pb-4 fw-4">@Model.Title</h1>
	<h4>@Model.StartTime - @Model.EndTime</h4>
    <p>Sitting Type: @Model.SittingType</p>
	<a type="button" class="btn btn-primary" asp-controller="Reservation" asp-action="Create" asp-route-sittingId = "@Model.SittingId" >Add Reservation</a>
	<table class="table table-hover table-striped" >
		<thead class="table-primary">
			<tr>
				<th>
					Arrival Time
				</th>
				<th>
					Customer Name
				</th>
				<th>
					Customer Phone Number
				</th>
				<th>
					Number of People
				</th>
				<th>
					Comments
				</th>
				<th>
					Edit
				</th>
				<th>
					Cancel
				</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model.ReservationList)
			{	
			<tr class="droppable" data-reservation-id="@item.Id"> 
				<td>
					@Html.DisplayFor(modelItem => item.StartTime)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Phone)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Guests)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Comments)
				</td>
				<td>
					<a type="button" class="btn btn-primary" asp-controller="Reservation" asp-action="Edit" asp-route-reservationId = "@item.Id" >Edit Reservation</a>
				</td>
				<td>
					<a type="button" class="btn btn-danger" asp-controller="Reservation" asp-route-reservationId = "@item.Id" >Cancel Reservation</a>
				</td>
			</tr>
			}
		</tbody>
	</table>
	
	<div id="assignable-tables-list">
		<h2 class="bg-dark text-white m-0 p-1">Assign Tables</h2>
		@foreach(var tableItem in Model.AllTables ){
			<div class="draggable ui-widget-content border bg-light" data-table-id="@tableItem.Id">
				@tableItem.TableName
			</div>
		}
	</div>

	<!-- Assign Tables Modal -->
	@*<div class="col-md-6 offset-md-3">
		<div class="modal fade" id="assignTablesModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Confirm Close Sitting</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<select class="form-select" aria-label="Default select example">
						  <option selected>Open this select menu</option>
						  <option value="1">One</option>
						  <option value="2">Two</option>
						  <option value="3">Three</option>
						</select>
					</div>
					<div class="modal-footer"></div>
				</div>
			</div>
		</div>
	</div>*@
</div>

@section scripts{
    <script src="~/js/admin.sitting.details.js"></script>
}